{"ast":null,"code":"import { createSlice, createAsyncThunk, unwrapResult } from '@reduxjs/toolkit';\nimport { REQUEST_STATUS } from '../constants';\nimport { Message, toaster } from 'rsuite';\nimport axios from 'axios';\nconst singleTasks = createAsyncThunk('get/singleTask', async payload => {\n  console.log(payload);\n  const {\n    data\n  } = await axios.get(`https://stage.api.sloovi.com/task/lead_465c14d0e99e4972b6b21ffecf3dd691/${payload.taskID}?company_id=${payload.customerID}`, {\n    headers: {\n      Authorization: 'Bearer ' + payload.token,\n      'Content-Type': 'application/json',\n      Accept: 'application/json'\n    }\n  }).then(res => {\n    console.log(res);\n    return res;\n  }).catch(err => {\n    console.log(err.response);\n    return err.data;\n  });\n  return data;\n});\nconst initialState = {\n  singleData: {},\n  loading: false,\n  status: 'idle',\n  error: {}\n};\nconst OneTask = createSlice({\n  name: 'xMartLogin',\n  initialState,\n  keepUnusedDataFor: 2,\n  extraReducers: {\n    [singleTasks.pending]: state => {\n      state.status = REQUEST_STATUS.PENDING;\n      state.loading = true;\n    },\n    [singleTasks.fulfilled]: (state, _ref) => {\n      let {\n        payload\n      } = _ref;\n      state.status = REQUEST_STATUS.FULFILLED;\n      state.userData = payload;\n      state.loading = false;\n    },\n    [singleTasks.rejected]: (state, error) => {\n      state.status = REQUEST_STATUS.REJECTED;\n      state.error = error;\n    }\n  }\n});\nexport const {\n  setUsers,\n  wasGoing\n} = OneTask.actions; // export states\n\nexport default OneTask.reducer;\nexport { OneTask };\n/*\n\n\n\n\n\n*/\n\nexport const singleTaskHandler = (dispatch, token, customerID, formData, setFormData, taskID, setAction, setTask) => {\n  const payload = {\n    token: token,\n    customerID: customerID,\n    taskID: taskID\n  };\n  dispatch(singleTasks(payload)).then(unwrapResult).then(res => {\n    console.log(res.results);\n    setFormData({ ...formData,\n      task_msg: res.results.task_msg,\n      task_time: res.results.task_time,\n      task_date: res.results.task_date,\n      task_id: res.results.id,\n      assigned_user: res.results.assigned_user_name\n    });\n    setAction('edit');\n    setTask(true);\n  }).catch(err => {\n    console.log(err);\n  });\n};\nexport const convert2sec = str => {\n  const exactTime = str.toString().split('2022')[1].split('G')[0];\n  let myTime = exactTime.split(':');\n  let TimeInSec = myTime[0] * 60 * 60 + myTime[1] * 60 + myTime[2];\n  return TimeInSec;\n};","map":{"version":3,"names":["createSlice","createAsyncThunk","unwrapResult","REQUEST_STATUS","Message","toaster","axios","singleTasks","payload","console","log","data","get","taskID","customerID","headers","Authorization","token","Accept","then","res","catch","err","response","initialState","singleData","loading","status","error","OneTask","name","keepUnusedDataFor","extraReducers","pending","state","PENDING","fulfilled","FULFILLED","userData","rejected","REJECTED","setUsers","wasGoing","actions","reducer","singleTaskHandler","dispatch","formData","setFormData","setAction","setTask","results","task_msg","task_time","task_date","task_id","id","assigned_user","assigned_user_name","convert2sec","str","exactTime","toString","split","myTime","TimeInSec"],"sources":["C:/Users/OSIOKE/Downloads/Sloovi/Sloovi - Copy/src/state/slices/action/SingleTask.js"],"sourcesContent":["import { createSlice, createAsyncThunk, unwrapResult } from '@reduxjs/toolkit';\nimport { REQUEST_STATUS } from '../constants';\nimport { Message, toaster } from 'rsuite';\nimport axios from 'axios';\n\nconst singleTasks = createAsyncThunk('get/singleTask', async (payload) => {\n    console.log(payload);\n    const { data } = await axios\n        .get(\n            `https://stage.api.sloovi.com/task/lead_465c14d0e99e4972b6b21ffecf3dd691/${payload.taskID}?company_id=${payload.customerID}`,\n            {\n                headers: {\n                    Authorization: 'Bearer ' + payload.token,\n                    'Content-Type': 'application/json',\n                    Accept: 'application/json',\n                },\n            }\n        )\n        .then((res) => {\n            console.log(res);\n            return res;\n        })\n        .catch((err) => {\n            console.log(err.response);\n            return err.data;\n        });\n\n    return data;\n});\n\nconst initialState = {\n    singleData: {},\n    loading: false,\n    status: 'idle',\n    error: {},\n};\n\nconst OneTask = createSlice({\n    name: 'xMartLogin',\n    initialState,\n    keepUnusedDataFor: 2,\n    extraReducers: {\n        [singleTasks.pending]: (state) => {\n            state.status = REQUEST_STATUS.PENDING;\n            state.loading = true;\n        },\n        [singleTasks.fulfilled]: (state, { payload }) => {\n            state.status = REQUEST_STATUS.FULFILLED;\n            state.userData = payload;\n            state.loading = false;\n        },\n        [singleTasks.rejected]: (state, error) => {\n            state.status = REQUEST_STATUS.REJECTED;\n            state.error = error;\n        },\n    },\n});\n\nexport const { setUsers, wasGoing } = OneTask.actions;\n\n// export states\nexport default OneTask.reducer;\nexport { OneTask };\n\n/*\n\n\n\n\n\n*/\n\nexport const singleTaskHandler = (\n    dispatch,\n    token,\n    customerID,\n    formData,\n    setFormData,\n    taskID,\n    setAction,\n    setTask\n) => {\n    const payload = {\n        token: token,\n        customerID: customerID,\n        taskID: taskID,\n    };\n    dispatch(singleTasks(payload))\n        .then(unwrapResult)\n        .then((res) => {\n            console.log(res.results);\n            setFormData({\n                ...formData,\n                task_msg: res.results.task_msg,\n                task_time: res.results.task_time,\n                task_date: res.results.task_date,\n                task_id: res.results.id,\n                assigned_user: res.results.assigned_user_name,\n            });\n            setAction('edit');\n            setTask(true);\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n};\n\nexport const convert2sec = (str) => {\n    const exactTime = str.toString().split('2022')[1].split('G')[0];\n    let myTime = exactTime.split(':');\n    let TimeInSec = myTime[0] * 60 * 60 + myTime[1] * 60 + myTime[2];\n\n    return TimeInSec;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}