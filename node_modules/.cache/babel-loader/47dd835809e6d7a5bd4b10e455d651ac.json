{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\OSIOKE\\\\Downloads\\\\Sloovi\\\\Sloovi - Copy\\\\src\\\\state\\\\slices\\\\action\\\\AllTasks.js\";\nimport { createSlice, createAsyncThunk, unwrapResult } from '@reduxjs/toolkit';\nimport { REQUEST_STATUS } from '../constants';\nimport { Message, toaster } from 'rsuite';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst getTasks = createAsyncThunk('post/allTask', async payload => {\n  // change cutomerID to company_id.\n  const {\n    data\n  } = await axios.get(`https://stage.api.sloovi.com/task/lead_465c14d0e99e4972b6b21ffecf3dd691?company_id=${payload.company_id}`, {\n    headers: {\n      Authorization: 'Bearer ' + payload.token,\n      'Content-Type': 'application/json',\n      Accept: 'application/json'\n    }\n  }).then(res => {\n    return res;\n  }).catch(err => {\n    console.log(err.response);\n    return err.data;\n  });\n  return data;\n});\nconst initialState = {\n  taskData: {},\n  loading: false,\n  status: 'idle',\n  error: {}\n};\nconst AllTask = createSlice({\n  name: 'allTasks',\n  initialState,\n  keepUnusedDataFor: 3,\n  extraReducers: {\n    [getTasks.pending]: state => {\n      state.status = REQUEST_STATUS.PENDING;\n      state.loading = true;\n    },\n    [getTasks.fulfilled]: (state, _ref) => {\n      let {\n        payload\n      } = _ref;\n      state.status = REQUEST_STATUS.FULFILLED;\n      state.taskData = payload;\n      state.loading = false;\n    },\n    [getTasks.rejected]: (state, error) => {\n      state.status = REQUEST_STATUS.REJECTED;\n      state.error = error;\n    }\n  }\n});\nexport const {\n  setUsers,\n  wasGone\n} = AllTask.actions; // export states\n\nexport default AllTask.reducer;\nexport { getTasks };\nexport const allTaskHandler = (dispatch, token, customerID, setAllTask) => {\n  const payload = {\n    token: token,\n    customerID: customerID\n  };\n  dispatch(getTasks(payload)).then(unwrapResult).then(res => {\n    setAllTask(res.results);\n\n    if (res.status === 'success') {\n      toaster.push( /*#__PURE__*/_jsxDEV(Message, {\n        showIcon: true,\n        type: res.type,\n        children: res.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }, this), {\n        placement: 'topEnd'\n      });\n    }\n  }).catch(err => {\n    console.log(err);\n  });\n};\nexport const convert2sec = str => {\n  const exactTime = str.toString().split('2022')[1].split('G')[0];\n  let myTime = exactTime.split(':');\n  let TimeInSec = myTime[0] * 60 * 60 + myTime[1] * 60 + myTime[2];\n  return TimeInSec;\n};","map":{"version":3,"names":["createSlice","createAsyncThunk","unwrapResult","REQUEST_STATUS","Message","toaster","axios","getTasks","payload","data","get","company_id","headers","Authorization","token","Accept","then","res","catch","err","console","log","response","initialState","taskData","loading","status","error","AllTask","name","keepUnusedDataFor","extraReducers","pending","state","PENDING","fulfilled","FULFILLED","rejected","REJECTED","setUsers","wasGone","actions","reducer","allTaskHandler","dispatch","customerID","setAllTask","results","push","type","message","placement","convert2sec","str","exactTime","toString","split","myTime","TimeInSec"],"sources":["C:/Users/OSIOKE/Downloads/Sloovi/Sloovi - Copy/src/state/slices/action/AllTasks.js"],"sourcesContent":["import { createSlice, createAsyncThunk, unwrapResult } from '@reduxjs/toolkit';\nimport { REQUEST_STATUS } from '../constants';\nimport { Message, toaster } from 'rsuite';\nimport axios from 'axios';\n\nconst getTasks = createAsyncThunk('post/allTask', async (payload) => {\n    // change cutomerID to company_id.\n    const { data } = await axios\n        .get(\n            `https://stage.api.sloovi.com/task/lead_465c14d0e99e4972b6b21ffecf3dd691?company_id=${payload.company_id}`,\n            {\n                headers: {\n                    Authorization: 'Bearer ' + payload.token,\n                    'Content-Type': 'application/json',\n                    Accept: 'application/json',\n                },\n            }\n        )\n        .then((res) => {\n            return res;\n        })\n        .catch((err) => {\n            console.log(err.response);\n            return err.data;\n        });\n\n    return data;\n});\n\nconst initialState = {\n    taskData: {},\n    loading: false,\n    status: 'idle',\n    error: {},\n};\n\nconst AllTask = createSlice({\n    name: 'allTasks',\n    initialState,\n    keepUnusedDataFor: 3,\n    extraReducers: {\n        [getTasks.pending]: (state) => {\n            state.status = REQUEST_STATUS.PENDING;\n            state.loading = true;\n        },\n        [getTasks.fulfilled]: (state, { payload }) => {\n            state.status = REQUEST_STATUS.FULFILLED;\n            state.taskData = payload;\n            state.loading = false;\n        },\n        [getTasks.rejected]: (state, error) => {\n            state.status = REQUEST_STATUS.REJECTED;\n            state.error = error;\n        },\n    },\n});\n\nexport const { setUsers, wasGone } = AllTask.actions;\n\n// export states\nexport default AllTask.reducer;\nexport { getTasks };\n\n\n\nexport const allTaskHandler = (dispatch, token, customerID, setAllTask) => {\n    const payload = {\n        token: token,\n        customerID: customerID,\n    };\n    dispatch(getTasks(payload))\n        .then(unwrapResult)\n        .then((res) => {\n            setAllTask(res.results);\n            if (res.status === 'success') {\n                toaster.push(\n                    <Message showIcon type={res.type}>\n                        {res.message}\n                    </Message>,\n                    {\n                        placement: 'topEnd',\n                    }\n                );\n            }\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n};\n\nexport const convert2sec = (str) => {\n    const exactTime = str.toString().split('2022')[1].split('G')[0];\n    let myTime = exactTime.split(':');\n    let TimeInSec = myTime[0] * 60 * 60 + myTime[1] * 60 + myTime[2];\n\n    return TimeInSec;\n};\n"],"mappings":";AAAA,SAASA,WAAT,EAAsBC,gBAAtB,EAAwCC,YAAxC,QAA4D,kBAA5D;AACA,SAASC,cAAT,QAA+B,cAA/B;AACA,SAASC,OAAT,EAAkBC,OAAlB,QAAiC,QAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,QAAQ,GAAGN,gBAAgB,CAAC,cAAD,EAAiB,MAAOO,OAAP,IAAmB;EACjE;EACA,MAAM;IAAEC;EAAF,IAAW,MAAMH,KAAK,CACvBI,GADkB,CAEd,sFAAqFF,OAAO,CAACG,UAAW,EAF1F,EAGf;IACIC,OAAO,EAAE;MACLC,aAAa,EAAE,YAAYL,OAAO,CAACM,KAD9B;MAEL,gBAAgB,kBAFX;MAGLC,MAAM,EAAE;IAHH;EADb,CAHe,EAWlBC,IAXkB,CAWZC,GAAD,IAAS;IACX,OAAOA,GAAP;EACH,CAbkB,EAclBC,KAdkB,CAcXC,GAAD,IAAS;IACZC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,QAAhB;IACA,OAAOH,GAAG,CAACV,IAAX;EACH,CAjBkB,CAAvB;EAmBA,OAAOA,IAAP;AACH,CAtBgC,CAAjC;AAwBA,MAAMc,YAAY,GAAG;EACjBC,QAAQ,EAAE,EADO;EAEjBC,OAAO,EAAE,KAFQ;EAGjBC,MAAM,EAAE,MAHS;EAIjBC,KAAK,EAAE;AAJU,CAArB;AAOA,MAAMC,OAAO,GAAG5B,WAAW,CAAC;EACxB6B,IAAI,EAAE,UADkB;EAExBN,YAFwB;EAGxBO,iBAAiB,EAAE,CAHK;EAIxBC,aAAa,EAAE;IACX,CAACxB,QAAQ,CAACyB,OAAV,GAAqBC,KAAD,IAAW;MAC3BA,KAAK,CAACP,MAAN,GAAevB,cAAc,CAAC+B,OAA9B;MACAD,KAAK,CAACR,OAAN,GAAgB,IAAhB;IACH,CAJU;IAKX,CAAClB,QAAQ,CAAC4B,SAAV,GAAsB,CAACF,KAAD,WAAwB;MAAA,IAAhB;QAAEzB;MAAF,CAAgB;MAC1CyB,KAAK,CAACP,MAAN,GAAevB,cAAc,CAACiC,SAA9B;MACAH,KAAK,CAACT,QAAN,GAAiBhB,OAAjB;MACAyB,KAAK,CAACR,OAAN,GAAgB,KAAhB;IACH,CATU;IAUX,CAAClB,QAAQ,CAAC8B,QAAV,GAAqB,CAACJ,KAAD,EAAQN,KAAR,KAAkB;MACnCM,KAAK,CAACP,MAAN,GAAevB,cAAc,CAACmC,QAA9B;MACAL,KAAK,CAACN,KAAN,GAAcA,KAAd;IACH;EAbU;AAJS,CAAD,CAA3B;AAqBA,OAAO,MAAM;EAAEY,QAAF;EAAYC;AAAZ,IAAwBZ,OAAO,CAACa,OAAtC,C,CAEP;;AACA,eAAeb,OAAO,CAACc,OAAvB;AACA,SAASnC,QAAT;AAIA,OAAO,MAAMoC,cAAc,GAAG,CAACC,QAAD,EAAW9B,KAAX,EAAkB+B,UAAlB,EAA8BC,UAA9B,KAA6C;EACvE,MAAMtC,OAAO,GAAG;IACZM,KAAK,EAAEA,KADK;IAEZ+B,UAAU,EAAEA;EAFA,CAAhB;EAIAD,QAAQ,CAACrC,QAAQ,CAACC,OAAD,CAAT,CAAR,CACKQ,IADL,CACUd,YADV,EAEKc,IAFL,CAEWC,GAAD,IAAS;IACX6B,UAAU,CAAC7B,GAAG,CAAC8B,OAAL,CAAV;;IACA,IAAI9B,GAAG,CAACS,MAAJ,KAAe,SAAnB,EAA8B;MAC1BrB,OAAO,CAAC2C,IAAR,eACI,QAAC,OAAD;QAAS,QAAQ,MAAjB;QAAkB,IAAI,EAAE/B,GAAG,CAACgC,IAA5B;QAAA,UACKhC,GAAG,CAACiC;MADT;QAAA;QAAA;QAAA;MAAA,QADJ,EAII;QACIC,SAAS,EAAE;MADf,CAJJ;IAQH;EACJ,CAdL,EAeKjC,KAfL,CAeYC,GAAD,IAAS;IACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ;EACH,CAjBL;AAkBH,CAvBM;AAyBP,OAAO,MAAMiC,WAAW,GAAIC,GAAD,IAAS;EAChC,MAAMC,SAAS,GAAGD,GAAG,CAACE,QAAJ,GAAeC,KAAf,CAAqB,MAArB,EAA6B,CAA7B,EAAgCA,KAAhC,CAAsC,GAAtC,EAA2C,CAA3C,CAAlB;EACA,IAAIC,MAAM,GAAGH,SAAS,CAACE,KAAV,CAAgB,GAAhB,CAAb;EACA,IAAIE,SAAS,GAAGD,MAAM,CAAC,CAAD,CAAN,GAAY,EAAZ,GAAiB,EAAjB,GAAsBA,MAAM,CAAC,CAAD,CAAN,GAAY,EAAlC,GAAuCA,MAAM,CAAC,CAAD,CAA7D;EAEA,OAAOC,SAAP;AACH,CANM"},"metadata":{},"sourceType":"module"}