{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\OSIOKE\\\\Downloads\\\\Sloovi\\\\Sloovi\\\\src\\\\state\\\\slices\\\\action\\\\Login.js\";\nimport { createSlice, createAsyncThunk, unwrapResult } from '@reduxjs/toolkit';\nimport { REQUEST_STATUS } from '../constants';\nimport { Message, toaster } from 'rsuite';\nimport axios from 'axios';\nimport { allTaskHandler } from './AllTasks';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = createAsyncThunk('post/Login', async payload => {\n  const {\n    data\n  } = await axios.post('https://stage.api.sloovi.com/login', {\n    email: 'smithwills1989@gmail.com',\n    password: '12345678'\n  }, {\n    headers: {\n      'Content-Type': 'application/json',\n      Accept: 'application/json'\n    }\n  }).then(res => {\n    return res;\n  }).catch(err => {\n    console.log(err.response);\n    return err.data;\n  });\n  return data;\n});\nconst initialState = {\n  userData: {},\n  loading: false,\n  status: 'idle',\n  error: {}\n};\nconst UserSlice = createSlice({\n  name: 'xMartLogin',\n  initialState,\n  keepUnusedDataFor: 2,\n  extraReducers: {\n    [Login.pending]: state => {\n      state.status = REQUEST_STATUS.PENDING;\n      state.loading = true;\n    },\n    [Login.fulfilled]: (state, _ref) => {\n      let {\n        payload\n      } = _ref;\n      state.status = REQUEST_STATUS.FULFILLED;\n      state.userData = payload;\n      state.loading = false;\n    },\n    [Login.rejected]: (state, error) => {\n      state.status = REQUEST_STATUS.REJECTED;\n      state.error = error;\n    }\n  }\n});\nexport const {\n  setUsers,\n  wasGoing\n} = UserSlice.actions; // export states\n\nexport default UserSlice.reducer;\nexport { Login };\n/*\n\n\n\n\n\n*/\n\nexport const myLoginHandler = (dispatch, setAllTask) => {\n  dispatch(Login()).then(unwrapResult).then(res => {\n    if (res.status === 'success') {\n      allTaskHandler(dispatch, res.results.token, res.results.company_id, setAllTask);\n      toaster.push( /*#__PURE__*/_jsxDEV(Message, {\n        showIcon: true,\n        type: res.type,\n        children: res.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }, this), {\n        placement: 'topEnd'\n      });\n    }\n  }).catch(err => {\n    console.log(err);\n  });\n};","map":{"version":3,"names":["createSlice","createAsyncThunk","unwrapResult","REQUEST_STATUS","Message","toaster","axios","allTaskHandler","Login","payload","data","post","email","password","headers","Accept","then","res","catch","err","console","log","response","initialState","userData","loading","status","error","UserSlice","name","keepUnusedDataFor","extraReducers","pending","state","PENDING","fulfilled","FULFILLED","rejected","REJECTED","setUsers","wasGoing","actions","reducer","myLoginHandler","dispatch","setAllTask","results","token","company_id","push","type","message","placement"],"sources":["C:/Users/OSIOKE/Downloads/Sloovi/Sloovi/src/state/slices/action/Login.js"],"sourcesContent":["import { createSlice, createAsyncThunk, unwrapResult } from '@reduxjs/toolkit';\nimport { REQUEST_STATUS } from '../constants';\nimport { Message, toaster } from 'rsuite';\nimport axios from 'axios';\nimport { allTaskHandler } from './AllTasks';\n\nconst Login = createAsyncThunk('post/Login', async (payload) => {\n    const { data } = await axios\n        .post(\n            'https://stage.api.sloovi.com/login',\n            {\n                email: 'smithwills1989@gmail.com',\n                password: '12345678',\n            },\n            {\n                headers: {\n                    'Content-Type': 'application/json',\n                    Accept: 'application/json',\n                },\n            }\n        )\n        .then((res) => {\n            return res;\n        })\n        .catch((err) => {\n            console.log(err.response);\n            return err.data;\n        });\n\n    return data;\n});\n\nconst initialState = {\n    userData: {},\n    loading: false,\n    status: 'idle',\n    error: {},\n};\n\nconst UserSlice = createSlice({\n    name: 'xMartLogin',\n    initialState,\n    keepUnusedDataFor: 2,\n    extraReducers: {\n        [Login.pending]: (state) => {\n            state.status = REQUEST_STATUS.PENDING;\n            state.loading = true;\n        },\n        [Login.fulfilled]: (state, { payload }) => {\n            state.status = REQUEST_STATUS.FULFILLED;\n            state.userData = payload;\n            state.loading = false;\n        },\n        [Login.rejected]: (state, error) => {\n            state.status = REQUEST_STATUS.REJECTED;\n            state.error = error;\n        },\n    },\n});\n\nexport const { setUsers, wasGoing } = UserSlice.actions;\n\n// export states\nexport default UserSlice.reducer;\nexport { Login };\n\n/*\n\n\n\n\n\n*/\n\nexport const myLoginHandler = (dispatch, setAllTask) => {\n    dispatch(Login())\n        .then(unwrapResult)\n        .then((res) => {\n            if (res.status === 'success') {\n                allTaskHandler(\n                    dispatch,\n                    res.results.token,\n                    res.results.company_id,\n                    setAllTask\n                );\n                toaster.push(\n                    <Message showIcon type={res.type}>\n                        {res.message}\n                    </Message>,\n                    {\n                        placement: 'topEnd',\n                    }\n                );\n            }\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}